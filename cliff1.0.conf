appName = "CLIFF_CORE"

# these are our own config values defined by the app
flow{
  seeds_to_run=300
  clusterName = ""
  clusterName = ${?cluster.name}
  indicatorsRedundantRecos = true
  isFeedback = false
  eventsSimilarity = "/appdata/cliff/staging/eventsSimilarity"
  eventsSimilarityTable = "eventsSimilarity"
  totalSeedsToRun = 10000
  totalSeedsToRun = ${?seedsToRun}
  usePreProcess = true
  periodForExternalIndicatorsCalc = 28
  externalIndicatorsOutPath = "src/main/resources/externalIndicators/externalIndicators"
  calcExternalIndicatorsFromFile = false
  writeExternalIndicatorsToDB = true
  filterBinsForIndicators = true
  binsDelimiter = "#"
  binsTimeInterval = 7
  binsFilterPercentage = 0.75
  externalIndicatorsInPathForTesting = "src/main/resources/indicatorsPerEvents.csv"
  useModel = "RandomForests" //optional models: "RandomForests", "Exhaustive", "ExRfFuse"
  parallelEvents = false
  parallelism = -1 // set the max number of threads for running parallel events flow, or -1 for system default
  maxAttemptsPerEvent = 1 // n attempts == n-1 retries (set to 0 for unlimited retries)
  covThreshold=0
  pctOfTestsArrivedConsideredRegressionAsDone = 0.95 // a number between 0 to 1 - default is 95% tests should arrive so the algo will start
  pctOfTestsArrivedConsideredRegressionAsDoneFeedback = ${flow.pctOfTestsArrivedConsideredRegressionAsDone} // same as above but for feedback regs
  pctOfTestsArrivedAndStoppedConsideredRegressionAsDone = 0.8 // a number between 0 to 1 - default is 90% tests should arrive and no file arrived in the last hoursPassedSinceLastFile time periodso the algo will start
  pctOfTestsArrivedAndStoppedConsideredRegressionAsDoneFeedback = ${flow.pctOfTestsArrivedAndStoppedConsideredRegressionAsDone} // same as above but for feedback regs
  hoursPassedSinceLastFile = 48 // hours passed since last file together with pctOfTestsArrivedConsideredRegressionAsDone to trigger algo
  hoursPassedSinceLastFileFeedback = ${flow.hoursPassedSinceLastFile} // same as above but for feedback regs

  maxRegressionsToKeep = 3
  maxDaysBeforeRegression = 7
  calcValidRegressionsWindowFromCurrentTime = true

  saveDimPatterns = true
  dimPatternsSource = "cliff"
  filterAdaptive = true
  addTemplateByLogic = false
  savePatternsWithoutTemplate = false
  clustersToSaveDimPatternsFor = "glc"
  fixConstrains = false
}

mailer{
  recipients = "zohar.meir@intel.com"
  errorRecipients = "cliff.dev@intel.com"
  clusters{ // name should be the same as the name in hadoop
    fe_snc  = ${mailer.recipients}
    mlc_snc = "nadav.lewkowicz@intel.com,"${mailer.recipients}
    mlc_pm_snc = "rotem.tabach@intel.com,"${mailer.recipients}
    meu_snc = "elazar.nativ@intel.com,"${mailer.recipients}
    ooo_snc = "ilya.epshtein@intel.com,guy.tal@intel.com,"${mailer.recipients}
    fe_glc  = ${mailer.recipients}
    mlc_glc = "nadav.lewkowicz@intel.com,"${mailer.recipients}
    mlc_pm_glc = "rotem.tabach@intel.com,"${mailer.recipients}
    meu_glc = "elazar.nativ@intel.com,"${mailer.recipients}
    ooo_glc = "ilya.epshtein@intel.com,guy.tal@intel.com,"${mailer.recipients}
    msid_glc = ${mailer.recipients}
    fe_glc_b0  = ${mailer.recipients}
    mlc_glc_b0 = "nadav.lewkowicz@intel.com,"${mailer.recipients}
    mlc_pm_glc_b0 = "rotem.tabach@intel.com,"${mailer.recipients}
    meu_glc_b0 = "elazar.nativ@intel.com,"${mailer.recipients}
    ooo_glc_b0 = "ilya.epshtein@intel.com,guy.tal@intel.com,"${mailer.recipients}
    msid_glc_b0 = ${mailer.recipients}
  }
  sender = "cliff_support@intel.com" // change the "From:" field to something other than sys_cliffdev, to allow replying to the mail
  errorSender = "cliff.dev@intel.com"
  sendInitialSummary = false
  sendFinalSummary = false
  sendFinalSummaryExternal = false
  sendIndicators = true
  sendIndicatorsExternal = true
  sendAAErrors = true
  sendMergerErrors = true
  sendMonitorErrors = true
  summaryStartDate = "2017-12-25"
  summaryFinishDate = "2018-01-01"
  maxListSize = 30 // used to determine maximum amount of elemnts to display in summary mails
  AAErrorsMaxMessageLength = 40000
  MaxMailBodyLength = 40000
  smtp{
    host = "mail.intel.com"
    port = 25
  }
}